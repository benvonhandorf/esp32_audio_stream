version: '3.8'

services:
  tcp-server:
    build: .
    container_name: esp32-audio-server
    ports:
      - "8888:8888"
    volumes:
      # Mount data directory for persistent storage
      - ./data:/app/data
      # Mount configuration file (optional)
      # Create config.yaml from config.example.yaml and uncomment:
      # - ./config.yaml:/app/config.yaml:ro
    restart: unless-stopped
    environment:
      # Optional: Set timezone
      - TZ=UTC
    # Option 1: Use configuration file
    # command: ["--config", "/app/config.yaml"]

    # Option 2: Use command-line arguments (example with MQTT)
    # command: ["--host", "0.0.0.0", "--port", "8888", "--mqtt-broker", "mqtt.example.com"]
